chrome.runtime.onMessage.addListener((function(e,r,o){if("searchHistory"===e.action){if("chat.openai.com"!==window.location.hostname)return void o({error:"Not on chat.openai.com"});var t=[];try{document.querySelectorAll("li[data-projection-id]").forEach((function(e){var r=e.querySelector("a"),o=e.querySelector("div"),n=r?r.href:null,i=o?o.innerText:null;t.push({link:n,text:i})})),o({results:t})}catch(e){o({error:e.message})}return!0}}));